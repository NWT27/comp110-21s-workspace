"""An adventure program, bring the player a world of unknowns and choices."""


__author__ = "730400848"

from random import randint
player: str = "Name"
points: int = 0

def main() -> None:
    greet()
    path_choice()
    return None


def greet() -> None:
    """An introduction to the adventure for the player."""
    global player
    player = str(input("Before we begin, what is your name: "))
    print(f"Perfect, Nice to meet you {player}! This is quite the journey, and to see how well you do I will be keeping score right here. 5 points for telling me your name already!")
    global points
    points += 5
    first_part_of_intro_statement: str = ("today is quite the day. Yada yada yada")
    second_part_of_intro_statement: str = ("There is a number of different events that will be quite the test to any competitor that dares to enter them.")
    third_part_of_intro_statement: str = ("There's a test of mind, body and spirit.")
    fourth_part_of_intro_statement: str = ("And if you pass, you will be seen as one of the top competitors in the nation.")
    print(f"{first_part_of_intro_statement}\n{second_part_of_intro_statement}\n{third_part_of_intro_statement}\n{fourth_part_of_intro_statement}")
    input("*Press Enter to Continue.*")
    body_explanation: str = ("The test of body is American football. Score then stop a computer to win.")
    mind_explanation: str = ("the test of mind. A test that has you attempt to guess a number generated by a secret guest.")
    spirit_explanation: str = ("the test of spirit is fill in later.")
    print("Well, before you commit, let me explain what each of the tests are.")
    print(f"{body_explanation}\nNext is {mind_explanation}\nAnd finally there is {spirit_explanation}")
    input("*Press Enter to Continue.*")
    print("Perfect, then let us continue on. Let's walk for a bit to give you a choice as to what game you shall choose.")


def path_choice() -> None:
    print("Perfect we're here. Time to make your decision about which game you'll choose")
    print(f"Game 1: Physical, Game 2: Mental, Game 3: Spiritual.\nAnd, of course, if you arent cut out for greatness, you may leave now. Let's called that Game 4: Coward.")
    game_choice: int = int(input(f"What shall it be?\n1, 2, 3 or 4: "))
    if game_choice == 1 or game_choice == 2 or game_choice == 3:
        if game_choice == 1 or game_choice == 2:
            if game_choice == 1:
                football()
            else:
                mental()
        else:
            spiritual()
    else:
        print("Well then, I guess then that this is the end of our journey.")
        print(f"Although it isnt much, you still scored {points} points in our short time together. Congrats, I guess.")
        print(f"Goodbye, {player}")
        exit()
    i = 1
    while i >= 1:
        path_choice_affirm: str = input(f"Well that was quite the preformance, what do you say about another round.\nAnd it need not be the same game.\nYes or No: ")
        path_choice_affirm: str = path_choice_affirm.lower()
        path_choice_affirm: int = ord(path_choice_affirm[0])
        if path_choice_affirm != ord("y"):
            last_chance: str = input("Are you sure you want to quit?\nBe precise now.\nYes or No: ")
            last_chance: str = last_chance.lower()
            last_chance: int = ord(last_chance[0])
            if last_chance == ord("y"):
                    print(f"Well it was quite the journey. You happened to score {points} points, which is alright I guess.")
                    print(f"If you ever choose to desire greatness again, you know where to return to. Goodbye {player}.")
                    exit()
        if path_choice_affirm == ord("y"): 
            print(f"Good, I am glad to see you aren't content\nSo what will the next game be.\nGame 1: Physical, Game 2: Mental, Game 3: Spiritual.")
            second_game_choice: int = int(input("1, 2, 3: "))
            if second_game_choice == 1 or second_game_choice == 2:
                if second_game_choice == 1 :
                    football()
                else:
                    mental()
            else:
                spiritual()


def football() -> int:
    """The physical football game of the adventure."""
    print(f"So, PLAYER you have chosen football. Good choice. Let me explain the rules")
    print(f"For each 5 yards you gain, you will get an additional point towards your adventure score.\nAnd, if you happen to score a touchdown, you'll get 6 point.")
    print(f"Special teams are for the wierdos of the world, so no extra points nor kickoffs.\nThe ball will always start on the twenty five.")
    input("*Press Enter to Continue.*")
    print("Perfect, now I'll need you to pick a team to lead")
    print("First, there's the runners.\nYou guessed it they are a run first team.\nGreat on the ground on both sides of the ball.\nBut, if you take them off of it they stink, defense or offense, don't matter")
    input("*Press Enter to Continue*")
    print("Next, we got the Ace's.\n They are the opposites of the runners.\nGreat both at and against passing while being mirror images of themselves on the grounds")
    input("*Press Enter to Continue*")
    team_choice: int = int(input(f"So what will it be for you PLAYER. Team 1: the Runners or Team 2: The Aces?\n1 or 2: "))
    while int(team_choice) > 2 or int(team_choice) < 1:
            team_choice: int = int(input("Well, I'm afraid I am going to need to ask you again. And be precise this time.\nWill it be team 1: the Runners or team 2: The Aces?\n 1 or 2: "))
    if team_choice == 1:
        team_choice: str = "the Runners"
    else:
        team_choice: str = "the Aces"
    print(f"Ah, {team_choice}. Decent choice I'd say")
    opposing_team: str = "Name"
    if team_choice == "the Aces": 
        opposing_team: str = "the Runners"
    else:    
        opposing_team: str = "the Aces"
    print(f"Today you will be playing {opposing_team}.")
    input("You ready to ball out?: ")
    print("Of course you are!!!")
    """Defining the stats for each team"""
    print("Seeing as though it is more exiciting for a game consisting of two drives, you start on offense")
    input("*Press Enter to Continue*")
    max_yard: int = 75
    yard_gain = 0
    iteration: int = 1
    while abs(yard_gain) < max_yard and iteration <= 4:
        offense_play_choice: str = input("What is your play call.\nPass or Run: ")
        offense_play_choice: str = offense_play_choice.lower()
        offense_play_choice: int = ord(offense_play_choice[0])
        threshold_homerun_pass: int = 95
        threshold_20yard_pass: int = 85
        threshold_10yard_pass: int = 65
        threshold_5yard_pass: int = 30
        threshold_incomplete_pass: int = 10
        yard_on_play: int = 0
        aces_completion_rate: int = .08
        aces_passD: int = .025
        aces_rushing_success: int = .04
        aces_rushD: int = .005
        aces_homerun_rate: int = .001
        runners_completion_rate: int = .045
        runners_passD: int = .005
        runners_rushing_success: int = .08
        runners_rushD: int = .025
        runners_homerun_rate: int = .002
        yard_point_touchdown: int = (yard_on_play - (yard_gain - max_yard)) // 5
        yard_point: int = (yard_on_play // 5)
        pass_result_rng: int = randint(0,100)
        defense_success: int = randint(0,100)
        plays_before_first: list[int] = []
        plays_before_first.append(yard_on_play)
        iteration: int = 1
        def firstdown(iterat: iteration) -> int:
            """A first down function."""
            if sum(plays_before_first) >= 10:
                plays_before_first.clear()
                iterat = 1
                return iterat
            iterat += 1
            return iterat
        global points
        if offense_play_choice == ord("p"):
            if team_choice == "the Aces":
                aces_threshold: int = (pass_result_rng + (pass_result_rng * aces_completion_rate))
                runners_passD_tresh: int = (defense_success * runners_passD)
                pass_offense_AvR: int = aces_threshold - runners_passD_tresh
                if pass_offense_AvR <= threshold_incomplete_pass:
                    print("Interception!")
                    yard_gain: int = -200
                if pass_offense_AvR > threshold_incomplete_pass and pass_offense_AvR <= threshold_5yard_pass:
                    print("Incomplete pass.")
                    print(f"Down number {firstdown(iteration)}")
                if pass_offense_AvR > threshold_5yard_pass and pass_offense_AvR <= threshold_10yard_pass:
                    yard_gain += 5
                    if yard_gain >= max_yard:
                        print("Touchdown")
                        points += 6 + yard_point_touchdown
                    else: 
                        print("5 yard gain!")
                        points += yard_point
                        print(f"Down number {firstdown(iteration)}")
                if pass_offense_AvR > threshold_10yard_pass and pass_offense_AvR <= threshold_20yard_pass:
                    yard_gain += 10
                    yard_on_play = 10
                    if yard_gain >= max_yard:
                        print("Touchdown!")
                        points += 6 + yard_point_touchdown
                    else:
                        print("10 yard gain!")
                        points += yard_point
                        print(f"Down number {firstdown(iteration)}")
                if pass_offense_AvR > threshold_20yard_pass and pass_offense_AvR <= threshold_homerun_pass:
                    yard_gain += 20
                    if yard_gain >= max_yard:
                        print("Touchdown!")
                        points += 6 + yard_point_touchdown
                    else: 
                        print("20 yard gain!")
                        points += yard_point
                        print(f"Down number {firstdown(iteration)}")
                if aces_threshold - runners_passD_tresh > threshold_homerun_pass:
                    yard_gain = (max_yard - yard_gain)
                    yard_on_play = yard_gain
                    print("Touchdown!")
                    points += 6 + yard_point_touchdown
                    iteration = 5
                

if __name__ == "__main__":
    main()